<!DOCTYPE html>
<html>
<meta charset="utf-8" />

<head>
</head>

<body>
  <h2>Welcome to The Wall!</h2>
  <button onclick="zoom1x()">Zoom 1x</button>
  <button onclick="zoom4x()">Zoom 4x</button>
  <button onclick="zoom40x()">Zoom 40x</button>

  <button class="color-picker" style="background:black;">&nbsp;</button>
  <button class="color-picker" style="background:fuchsia;">&nbsp;</button>
  <button class="color-picker" style="background:red;">&nbsp;</button>
  <button class="color-picker" style="background:orange;">&nbsp;</button>
  <button class="color-picker" style="background:yellow;">&nbsp;</button>
  <button class="color-picker" style="background:lime;">&nbsp;</button>
  <button class="color-picker" style="background:teal;">&nbsp;</button>
  <button class="color-picker" style="background:green;">&nbsp;</button>
  <button class="color-picker" style="background:olive;">&nbsp;</button>
  <button class="color-picker" style="background:blue;">&nbsp;</button>
  <button class="color-picker" style="background:purple;">&nbsp;</button>
  <button class="color-picker" style="background:indigo;">&nbsp;</button>
  <button class="color-picker" style="background:maroon;">&nbsp;</button>
  <button class="color-picker" style="background:gray;">&nbsp;</button>
  <button class="color-picker" style="background:white;">&nbsp;</button>
  <br>
  <canvas id='canvas'></canvas>

  <script type="text/javascript">
    const colorPickerElts = document.getElementsByClassName('color-picker');

    let selectedColor = undefined;

    const selectColor = (colorPickerElt) => {
      const color = colorPickerElt.style.backgroundColor;
      selectedColor = color;
      for (let testColorPickerElt of colorPickerElts) {
        if (testColorPickerElt.style.backgroundColor == colorPickerElt.style.backgroundColor) {
          testColorPickerElt.style.borderColor = 'darkgray';
        } else {
          testColorPickerElt.style.borderColor = 'white';
        }
      }
    }

    // console.log('colorPickerElts', colorPickerElts);

    for (let colorPickerElt of colorPickerElts) {
      colorPickerElt.style.border = 'solid';
      colorPickerElt.style.borderWidth = 4;
      colorPickerElt.style.borderColor = 'white';
      colorPickerElt.onclick = () => {
        selectColor(colorPickerElt);
      };
    }

    let fullCanvas;

    {
      const canvas = document.createElement('CANVAS');
      const context = canvas.getContext('2d');
      context.canvas.width = 1000;
      context.canvas.height = 1000;
      const imageData = context.createImageData(1000, 1000);

      for (let i = 0; i < imageData.data.length; i++) {
        imageData.data[i] = Math.round(255 * Math.random());
      }

      context.putImageData(imageData, 0, 0);
      fullCanvas = canvas;
    }

    {
      const canvas = document.getElementById('canvas');
      const context = canvas.getContext('2d');
      context.canvas.width = 1000;
      context.canvas.height = 1000;
      context.imageSmoothingEnabled = false;
      // const imageData = context.createImageData(1000, 1000);

      // for (let i = 0; i < imageData2.data.length; i++) {
      // imageData2.data[i] = Math.round(255 * Math.random());
      // }
      context.drawImage(fullCanvas, 0, 0);
      // context2.putImageData(imageData2, 0, 0);
    }
    const zoom40x = () => {
      const canvas = document.getElementById('canvas');
      const context = canvas.getContext('2d');
      context.fillStyle = 'white';
      context.fillRect(0, 0, 1000, 1000);
      context.drawImage(fullCanvas, 0, 0, 1000 / 40, 1000 / 40, 0, 0, 1000, 1000);
    }

    const zoom4x = () => {
      const canvas = document.getElementById('canvas');
      const context = canvas.getContext('2d');
      context.fillStyle = 'white';
      context.fillRect(0, 0, 1000, 1000);
      context.drawImage(fullCanvas, 0, 0, 1000 / 4, 1000 / 4, 0, 0, 1000, 1000);
    }

    const zoom1x = () => {
      const canvas = document.getElementById('canvas');
      const context = canvas.getContext('2d');
      context.fillStyle = 'white';
      context.fillRect(0, 0, 1000, 1000);
      context.drawImage(fullCanvas, 0, 0, 1000 / 1, 1000 / 1, 0, 0, 1000, 1000);
    }
  </script>
</body>

</html>
